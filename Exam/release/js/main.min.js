/*$(document).ready(function(){ 
	$('.bar__pictures').masonry({
// указываем элемент-контейнер в котором расположены блоки для динамической верстки
	  itemSelector: '.item',
// указываем класс элемента являющегося блоком в нашей сетке
          singleMode: false,
// true - если у вас все блоки одинаковой ширины
	  isResizable: true,
// перестраивает блоки при изменении размеров окна
	  isAnimated: true,
// анимируем перестроение блоков
          animationOptions: { 
	      queue: false, 
	      duration: 500 
	  }
// опции анимации - очередь и продолжительность анимации
	}); 
  });
  */
"use strict";
	//Grid
$(function () {
	var $grid = $('.grid');
	var vacType = ['Sport', 'Holiday', 'Games', 'Culture', 'Relaxation', 'Travelling'];
	var query = [];
	var amount = 8;
	function create() {
		$grid.html('');
		for (var i = 0; i < 3; i++) {
			for (var _i = 0; _i < 3; _i++) {
				var _rand = Math.random();
				var str = '<div';
				if (_rand > 0.7 && _i < 2) {
					str += ' class="grid__fat"';
					_i++;
				}
				str += '>';
				$grid.append(str);
			}
		}
	}
	create();
	var $div = $('.grid div');

	var rand = Math.random() * vacType.length >> 0;
	$.getJSON('https://pixabay.com/api/?key=2737229-d77c828bc96e9964645663545&q=' + vacType[rand] + '&image_type=photo&per_page=' + $div.length, function (r) {
		//console.log(r);
		//console.log($div.length);
		//console.log(vacType[rand]);
		for (var i = 0; i < $div.length; i++) {
			$div.eq(i).css('background-image', 'url(' + r.hits[i].webformatURL + ')').html(r.hits[i].tags);
		};
	});
	$('form').on('submit', function (e) {
		e.preventDefault();
		e.stopPropagation();
		var word = $('.search__input').val() || '';
		create();
		var $div = $('.grid div');
		$.getJSON('https://pixabay.com/api/?key=2737229-d77c828bc96e9964645663545&q=' + word + '&image_type=photo&per_page' + $div.length, function (r) {
			//console.log(r);
			for (var i = 0; i < $div.length; i++) {
				$div.eq(i).css('background-image', 'url(' + r.hits[i].webformatURL + ')').html(r.hits[i].tags);
			}
		});
	});
});

	//Smooth scrolling to anchor
$(document).ready(function() {
   $(".movement").click(function() {
      $("html, body").animate({
         scrollTop: $($(this).attr("href")).offset().top + "px"
      }, {
         duration: 1500,
         easing: "swing"
      });
      return false;
   });
});



"use strict"
var sliderFirst = {
	slides:['release/img/slider1_img.jpg','release/img/slider2_img.jpg'],
	currentSlide: [0], // текущий кадр для отбражения - индекс картинки из массива
	set: function(image) { // установка нужного фона слайдеру
		document.getElementById("sliderFirst__img").style.backgroundImage = "url("+image+")";
	},
	start: function() { // запуск слайдера с картинкой с нулевым индексом
		this.set(this.slides[this.currentSlide]);
	},
	left: function() { // крутим на один кадр влево
		this.currentSlide--;
		if(this.currentSlide < [0]){
			this.currentSlide = this.slides.length-1;
		};
		this.set(this.slides[this.currentSlide]);
	},
	right: function() { // крутим на один кадр вправо
		this.currentSlide++;
		if(this.currentSlide == this.slides.length){
			this.currentSlide = [0];
		}
		this.set(this.slides[this.currentSlide]);		
	}
};


var sliderSecond = {
	slides:['release/img/slider2_img.jpg','release/img/slider3_img.jpg'],
	currentSlide: [0], // текущий кадр для отбражения - индекс картинки из массива
	set: function(image) { // установка нужного фона слайдеру
		document.getElementById("sliderSecond__img").style.backgroundImage = "url("+image+")";
	},
	start: function() { // запуск слайдера с картинкой с нулевым индексом
		this.set(this.slides[this.currentSlide]);
	},
	left: function() { // крутим на один кадр влево
		this.currentSlide--;
		if(this.currentSlide < [0]){
			this.currentSlide = this.slides.length-1;
		};
		this.set(this.slides[this.currentSlide]);
	},
	right: function() { // крутим на один кадр вправо
		this.currentSlide++;
		if(this.currentSlide == this.slides.length){
			this.currentSlide = [0];
		}
		this.set(this.slides[this.currentSlide]);		
	}
};

var sliderThird = {
	slides:['release/img/slider3_img.jpg','release/img/slider1_img.jpg'],
	currentSlide: [0], // текущий кадр для отбражения - индекс картинки из массива
	set: function(image) { // установка нужного фона слайдеру
		document.getElementById("sliderThird__img").style.backgroundImage = "url("+image+")";
	},
	start: function() { // запуск слайдера с картинкой с нулевым индексом
		this.set(this.slides[this.currentSlide]);
	},
	left: function() { // крутим на один кадр влево
		this.currentSlide--;
		if(this.currentSlide < [0]){
			this.currentSlide = this.slides.length-1;
		};
		this.set(this.slides[this.currentSlide]);
	},
	right: function() { // крутим на один кадр вправо
		this.currentSlide++;
		if(this.currentSlide == this.slides.length){
			this.currentSlide = [0];
		}
		this.set(this.slides[this.currentSlide]);		
	}
};
window.onload = function() { // запуск слайдера после загрузки документа
	sliderFirst.start();
	sliderSecond.start();
	sliderThird.start();
};




